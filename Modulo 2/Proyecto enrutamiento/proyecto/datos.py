# datos.py

import math
import random

# ==============================================================================
# CLASE DATOS (Datos y Costos)
# ==============================================================================
class Datos:
    """
    Clase que almacena los datos estáticos del problema de enrutamiento (MDVRP).
    """
    
    def __init__(self):
        # Coordenadas de los 10 CDD y 90 TT en Culiacán (Simuladas)
        self.COORDENADAS = {
            "CDD1": (24.774908, -107.309857), "CDD2": (24.846399, -107.380268),
            "CDD3": (24.731204, -107.468801), "CDD4": (24.711617, -107.326765),
            "CDD5": (24.820223, -107.358385), "CDD6": (24.704117, -107.306018),
            "CDD7": (24.866489, -107.457532), "CDD8": (24.736365, -107.463319),
            "CDD9": (24.760848, -107.395049), "CDD10": (24.786389, -107.441754), 
            "TT1": (24.822371, -107.472101), "TT2": (24.758429, -107.426728),
            "TT3": (24.791214, -107.342965), "TT4": (24.739935, -107.397153),
            "TT5": (24.818483, -107.49071), "TT6": (24.821509, -107.465895),
            "TT7": (24.71301, -107.310223), "TT8": (24.893126, -107.338321),
            "TT9": (24.760923, -107.480466), "TT10": (24.836847, -107.41197),
            "TT11": (24.724408, -107.400965), "TT12": (24.706878, -107.318136),
            "TT13": (24.751756, -107.367496), "TT14": (24.762342, -107.395986),
            "TT15": (24.809342, -107.463029), "TT16": (24.893917, -107.344973),
            "TT17": (24.8879, -107.321035), "TT18": (24.81958, -107.315625),
            "TT19": (24.717699, -107.460803), "TT20": (24.709045, -107.434934),
            "TT21": (24.777735, -107.44573), "TT22": (24.865748, -107.428649),
            "TT23": (24.756187, -107.391461), "TT24": (24.728185, -107.339561),
            "TT25": (24.71491, -107.302623), "TT26": (24.854449, -107.460257),
            "TT27": (24.701104, -107.336908), "TT28": (24.841371, -107.354199),
            "TT29": (24.854254, -107.485191), "TT30": (24.771693, -107.476826),
            "TT31": (24.872621, -107.37534), "TT32": (24.76618, -107.487288),
            "TT33": (24.762196, -107.434963), "TT34": (24.845921, -107.372489),
            "TT35": (24.877443, -107.405557), "TT36": (24.723919, -107.357351),
            "TT37": (24.852157, -107.387745), "TT38": (24.854193, -107.401241),
            "TT39": (24.804547, -107.414492), "TT40": (24.705084, -107.478422),
            "TT41": (24.706286, -107.372718), "TT42": (24.762871, -107.398286),
            "TT43": (24.881513, -107.450142), "TT44": (24.782077, -107.34889),
            "TT45": (24.74576, -107.484604), "TT46": (24.75795, -107.467756),
            "TT47": (24.88594, -107.338376), "TT48": (24.826681, -107.325708),
            "TT49": (24.860734, -107.462686), "TT50": (24.878512, -107.392132),
            "TT51": (24.861488, -107.320782), "TT52": (24.763601, -107.47799),
            "TT53": (24.745587, -107.414578), "TT54": (24.863603, -107.327854),
            "TT55": (24.70139, -107.397851), "TT56": (24.783482, -107.455578),
            "TT57": (24.723973, -107.432477), "TT58": (24.888582, -107.435359),
            "TT59": (24.803758, -107.359396), "TT60": (24.772726, -107.305644),
            "TT61": (24.892489, -107.449644), "TT62": (24.79945, -107.439824),
            "TT63": (24.756968, -107.492623), "TT64": (24.821913, -107.399464),
            "TT65": (24.710296, -107.444271), "TT66": (24.881653, -107.452088),
            "TT67": (24.728979, -107.402109), "TT68": (24.89713, -107.451589),
            "TT69": (24.834427, -107.347676), "TT70": (24.747528, -107.354357),
            "TT71": (24.773557, -107.373539), "TT72": (24.826706, -107.392845),
            "TT73": (24.718058, -107.33294), "TT74": (24.764156, -107.462696),
            "TT75": (24.708155, -107.381821), "TT76": (24.835513, -107.496682),
            "TT77": (24.802419, -107.454701), "TT78": (24.829035, -107.465127),
            "TT79": (24.838188, -107.422653), "TT80": (24.887346, -107.472496),
            "TT81": (24.768213, -107.477305), "TT82": (24.884939, -107.324532),
            "TT83": (24.751588, -107.368003), "TT84": (24.863444, -107.38896),
            "TT85": (24.80593, -107.45163), "TT86": (24.718621, -107.320557),
            "TT87": (24.880084, -107.37338), "TT88": (24.767806, -107.430158),
            "TT89": (24.845191, -107.320578), "TT90": (24.877417, -107.344025)
        }
        
        self.clientes = [f"TT{i}" for i in range(1, 91)]
        self.DEMANDAS = {cliente: random.randint(100, 500) for cliente in self.clientes}
        
        self.CAPACIDAD_VEHICULO = 4000 
        self.DEPOSITOS_DISPONIBLES = [f"CDD{i}" for i in range(1, 11)]
        self.COSTO_MATRIX = self._cargar_matriz_costos_combustible() 

    def _cargar_matriz_costos_combustible(self):
        """Simula la carga de la matriz de costos de combustible."""
        matrix = {}
        nodos = list(self.COORDENADAS.keys())
        FACTOR_COSTO = random.uniform(800, 1200) 
        
        for i in nodos:
            matrix[i] = {}
            for j in nodos:
                if i == j:
                    matrix[i][j] = 0.0
                else:
                    c1 = self.COORDENADAS[i]
                    c2 = self.COORDENADAS[j]
                    dx = c1[0] - c2[0]
                    dy = c1[1] - c2[1]
                    distancia_euclidiana = math.sqrt(dx**2 + dy**2)
                    matrix[i][j] = distancia_euclidiana * FACTOR_COSTO * random.uniform(0.95, 1.05)
        return matrix